<!-- https://lidar-now.scale.com/embed -->
<!-- this is in simple-gpu as lidar labeler ...  -->
<div class="bg-gray-100 font-sans">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-bold mb-8 text-center">AI Image Labeling Tool</h1>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Task List -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold mb-4">Task List</h2>
        <ul id="taskList" class="space-y-2">
          <li
            class="cursor-pointer hover:bg-gray-100 p-2 rounded"
            onclick="loadTask(1)"
          >
            Task 1: Label Cars
          </li>
          <li
            class="cursor-pointer hover:bg-gray-100 p-2 rounded"
            onclick="loadTask(2)"
          >
            Task 2: Label Pedestrians
          </li>
          <li
            class="cursor-pointer hover:bg-gray-100 p-2 rounded"
            onclick="loadTask(3)"
          >
            Task 3: Label Traffic Signs
          </li>
        </ul>
      </div>

      <!-- Image Labeling Area -->
      <div class="bg-white rounded-lg shadow-md p-6 col-span-2">
        <h2 class="text-2xl font-semibold mb-4">Image Labeling</h2>
        <div id="imageContainer" class="relative w-full h-96 bg-gray-200 mb-4">
          <img
            id="currentImage"
            src="/api/placeholder/800/600"
            alt="Image to be labeled"
            class="w-full h-full object-contain"
          />
        </div>
        <div class="flex space-x-4 mb-4">
          <button
            onclick="addLabel()"
            class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
          >
            Add Label
          </button>
          <button
            onclick="clearLabels()"
            class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
          >
            Clear Labels
          </button>
          <button
            onclick="submitTask()"
            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
          >
            Submit Task
          </button>
        </div>
        <div id="labelList" class="space-y-2"></div>
      </div>
    </div>

    <!-- Progress Tracker -->
    <div class="mt-8 bg-white rounded-lg shadow-md p-6">
      <h2 class="text-2xl font-semibold mb-4">Progress Tracker</h2>
      <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
        <div
          id="progressBar"
          class="bg-blue-600 h-2.5 rounded-full"
          style="width: 0%"
        ></div>
      </div>
      <p class="mt-2">
        <span id="completedTasks">0</span> out of
        <span id="totalTasks">10</span> tasks completed
      </p>
    </div>
  </div>

  <script>
    let labels = [];
    let currentTask = 1;
    let completedTasks = 0;
    const totalTasks = 10;

    function loadTask(taskId) {
      currentTask = taskId;
      document.getElementById("currentImage").src =
        `/api/placeholder/800/600?text=Task ${taskId} Image`;
      clearLabels();
      updateProgress();
    }

    function addLabel() {
      const imageContainer = document.getElementById("imageContainer");
      const label = document.createElement("div");
      label.className = "label-box";
      label.style.left = "10%";
      label.style.top = "10%";
      label.style.width = "20%";
      label.style.height = "20%";
      label.draggable = true;
      label.addEventListener("dragstart", drag);
      imageContainer.appendChild(label);

      const labelText = `Label ${labels.length + 1}`;
      labels.push(labelText);
      updateLabelList();
    }

    function clearLabels() {
      const imageContainer = document.getElementById("imageContainer");
      const labelBoxes = imageContainer.getElementsByClassName("label-box");
      while (labelBoxes.length > 0) {
        labelBoxes[0].remove();
      }
      labels = [];
      updateLabelList();
    }

    function updateLabelList() {
      const labelList = document.getElementById("labelList");
      labelList.innerHTML = "";
      labels.forEach((label, index) => {
        const labelElement = document.createElement("div");
        labelElement.textContent = label;
        labelElement.className = "bg-gray-100 p-2 rounded";
        labelList.appendChild(labelElement);
      });
    }

    function submitTask() {
      completedTasks++;
      updateProgress();
      alert("Task submitted successfully!");
      loadTask(currentTask + 1);
    }

    function updateProgress() {
      const progressBar = document.getElementById("progressBar");
      const completedTasksElement = document.getElementById("completedTasks");
      const progress = (completedTasks / totalTasks) * 100;
      progressBar.style.width = `${progress}%`;
      completedTasksElement.textContent = completedTasks;
    }

    function drag(event) {
      const style = window.getComputedStyle(event.target, null);
      event.dataTransfer.setData(
        "text/plain",
        parseInt(style.getPropertyValue("left"), 10) -
          event.clientX +
          "," +
          (parseInt(style.getPropertyValue("top"), 10) - event.clientY),
      );
    }

    document
      .getElementById("imageContainer")
      .addEventListener("dragover", function (event) {
        event.preventDefault();
        return false;
      });

    document
      .getElementById("imageContainer")
      .addEventListener("drop", function (event) {
        event.preventDefault();
        const offset = event.dataTransfer.getData("text/plain").split(",");
        const dm = event.target;
        dm.style.left = event.clientX + parseInt(offset[0], 10) + "px";
        dm.style.top = event.clientY + parseInt(offset[1], 10) + "px";
        return false;
      });

    // Initialize progress
    updateProgress();
  </script>
</div>

<!-- scale.ai, samasource, labelbox, etc -->
